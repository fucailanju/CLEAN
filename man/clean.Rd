% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/CLEAN.R
\name{clean}
\alias{clean}
\title{Apply CLEAN pipeline (minimal)}
\usage{
clean(
  df,
  formula,
  id,
  time,
  A_by_time,
  model = "bernoulli",
  block_col = "clean_block",
  add_block_fe = TRUE,
  fit_fun = stats::lm,
  ...
)
}
\arguments{
\item{df}{panel dataframe}

\item{formula}{regression formula for the outcome model (without block FE is fine)}

\item{id}{unit id column name (string)}

\item{time}{time column name (string)}

\item{A_by_time}{named list of adjacency matrices}

\item{model}{SBM model (default 'bernoulli')}

\item{block_col}{name of block column to create}

\item{add_block_fe}{if TRUE, adds factor(block_col) to the formula}

\item{fit_fun}{model fitting function; default stats::lm}

\item{...}{passed to fit_fun}
}
\value{
list with fitted model, augmented data, and diagnostics
}
\description{
Apply CLEAN pipeline (minimal)
}
